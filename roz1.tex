\chapter{Wprowadzenie}

Samochód  autonomiczny jest to pojazd sterowany przez system komputerowy, w~oparciu o~dane z~wielu różnorodnych czujników. 
Według klasyfikacji SAE (ang. \textit{Society of Automotive Engineers} -- związek inżynierów zajmujących się motoryzacją) rozróżnia się pięć poziomów autonomizacji. 
Ostatni z~nich zakłada, że w sterowanie samochodu nie ma żadnej ingerencji ze strony człowieka. 
Pozostałe cztery odnoszą się do~różnego stopnia zaawansowania systemu ADAS (ang.\textit{Advanced Driving Assistance System} -- zaawansowany system wspomagania kierowcy).

Zadaniem systemów ADAS jest wspomaganie człowieka w czasie jazdy tj. wykrywanie i ostrzeganie o sytuacjach niebezpiecznych dla kierowcy i otoczenia. 
W~sytuacjach krytycznych komputer pokładowy jest w~stanie przejąć kontrolę nad autem i~wykonać manewr zapobiegający wypadkowi. 
Do postrzegania otoczenia wykorzystuje się czujniki takie jak radar, lidar, GPS, kamery, IMU (ang. \textit{inertial measurement unit}) oraz czujniki ultradźwiękowe.



Do podstawowych systemów ADAS zalicza się:
\begin{itemize}
	\item asystent parkowania - czujniki ultradźwiękowe rozmieszczone wokół samochodu umożliwiają mierzenie odległości pojazdu od innych przeszkód ułatwiając manewrowanie przy parkowaniu,
	\item monitorowanie martwego pola - kamery rozmieszczone bo bokach samochodu zbierają informacje z przestrzeni, których kierowca nie jest w stanie kontrolować wykorzystując z pomocy lusterek,
	\item ostrzeganie o kolizji przedniej, tylnej - tempomaty znajdujące się z przodu i z tyłu auta mierzą prędkość z jaką pojazd zbliża się do przeszkody. Gdy jest zbyt duża i istnieje ryzyko kolizji, system uruchomia alarm w postaci wizualnej lub dźwiękowej, a nawet dostosuje prędkość w celu uniknięcia kolizji,
	\item detekcja i rozpoznawanie znaków drogowych - system wykrywa i informuje kierowcę o znakach i~uruchamia sygnał alarmowy w przypadku niedostosowania się do nich,
	\item detekcja samochodów i pieszych - system przy pomocy kamer wykrywa ludzi i pojazdy znajdujące się w najbliższym otoczeniu oraz wyznacza ich przewidywaną ścieżkę ruchu. Jeśli istnieje ryzyko kolizji zostanie uruchomiony alarm. A w sytuacji krytycznej auto zahamuje,
	\item system ostrzegania przed opuszczeniem pasa ruchu (ang. \textit{Lane Departure Warning System}) -- jest to~mechanizm opierający się na detekcji linii drogowych i rozpoznawaniu jezdni. W~sytuacji, w~której samochód zaczyna zmieniać pas ruchu bez uprzedno włączonego odpowiedniego kierunkowskazu system wysyła ostrzeżenie do~kierowcy. Może to być sygnalizacja w postaci wizualnej, dźwiękowej lub wibracji. Wyróżnia się też bardziej zaawansowane wersje oprogramowania, w~których system przejmuje kontrolę nad układem kierowniczym i~nie pozwala na~zmianę pasa ruchu przez pojazd lub kieruje nim na środek pasa. Tego typu systemy zostały zaprojektowane w~celu zminimalizowania liczby wypadków drogowych wynikających z~błędów kierowców powodowanych między innymi przez zmęczenie bądź utrate koncentracji.
\end{itemize}

W ostanim czasie można zauważyć spory rozwój w dziedzinie pojazdów bezzałogowych. Jest to spowodowane widocznym rozwojem w dziedzinie sensoryki. oraz jednostek obliczeniowych w dziedzinie CPU (ang. \textit{Central Processing Units}) i GPGPU (ang. \textit{General Purpose computing on Graphics Processing Units}). Dodatkowo kolejny firmy motoryzacyjne starają się osiagac coraz to lepsze rozwiązania w celu wyróznienia się na tle konkurancji i zdobycia większego rozgłosu. Na horyzoncie już widać pierwsze przymiarki do oficialnego startu sezonu wyścigów samochodów autonomicznych Roborace \cite{roborace}. Przez długi czas wyścigi samochodowe były poligonem doświadczalnym dla nowych technologii, które następnie mogły trafić do samochodów drogowych. Aktualnie większość elektronicznych wspomagaczy kierowcy zostało zakazanych w Formule 1 i wpływ wyscigów uległ osłabieniu. Ale skoro w przyszłości mamy poruszać się pojazdami autonomicznymi, Roborace może pomóc w opracowywaniu nowej technoligii takich pojazdów.

Jednym z możliwych rozwiązań efektywnego rozwoju oprogramowania są układy Zynq SoC. Dzięki możliwości ich reprogramowania są wygodnym zamiennikiem układów ASIC (ang. \textit{Application-Specific Integrated Circuit} - układ scalony specyficzny dla aplikacji) \cite{ASIC_zynq}. Rekonfigurowalność układu zapewnia szybszy i tańszy rozwój oprogramowania oraz pozwala na naprawę błędów w oprogramowaniu bez konieczności tworzenia nowego układu.
Firma Xilinx oferuje specialistyczne układy z myślą o systemach ADAS. Urządzenia takie jak XA Zynq™-7000 SoCs idealnie nadają się do wysokich wymagań obliczeniowych zaawansowanych systemów wspomagania kierowcy (ADAS) \cite{xilinx}.


\section{Cele pracy}
W niniejszej pracy podjęto temat detekcji jezdni dla potrzeb pojazdów autonomicznych.  
Celem pracy jest napisanie modelu programowego w~języku Matlab algorytmów przetwarzających nagrany obraz. 
Rezultatem powinien być film, na który naniesione są krzywe reprezentujące detekcje linii drogowych.
Kolejną częścią pracy jest przeprowadzenie implementacji sprzętowej algorytmów na układzie Zynq SoC(ang. \textit{System On Chip}) przy użyciu języka opisu sprzętu Verilog. 
\section{Układ pracy}
W rozdziale drugim przedstawiono przegląd metod przetwarzania obrazu. 
W~kolejnym rozdziale omówiono platformę Zybo Zynq SoC. 
Rozdział czwarty odnosi się do implementacji programowej, a piąty do sprzętowej. Szósty rozdział zawiera w sobie testy. Siódmy podsumowanie. 
%sekcja jeszcze do poprawy
